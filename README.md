# Процессор для робота на дискретных элементах 74HCxx

## Описание проекта
Проект представляет собой реализацию простого 8-битного процессора на дискретных логических микросхемах серии 74HCxx. Процессор предназначен для управления автономным роботом с двумя моторами и двумя датчиками (расстояния и звука). Основная особенность - память программ реализована на светодиодах, где состояние каждого светодиода кодирует один бит команды.

## Ключевые характеристики
- **Архитектура:** Гарвардская (раздельная память программ и данных)
- **Разрядность:** 8 бит (команды - 7 бит)
- **Память программ:** 16 ячеек (программируется установкой/удалением светодиодов)
- **Система команд:** 5 базовых команд
- **Тактовая частота:** 1-4 Гц (зависит от кварцевого резонатора)
- **Питание:** 5В DC
- **Логические элементы:** серия 74HCxx

## Структура процессора
Процессор состоит из следующих основных модулей:
1. **Программный счетчик (74HC161)** - хранит текущий адрес исполняемой команды
2. **Память программ** - матрица 16x7 светодиодов
3. **Декодер команд (74HC138)** - преобразует код операции в сигналы управления
4. **Блок управления моторами (74HC74)** - D-триггеры для хранения состояния моторов
5. **Таймер задержки (74HC4060)** - реализует команду WAIT
6. **Логика условных переходов (74HC08, 74HC32, 74HC86)** - обработка условий JS и JD

## Система команд
Каждая команда имеет длину 7 бит: [6:4] - код операции (3 бита), [3:0] - операнд (4 бита)

| Двоичный код | Мнемоника | Назначение | Описание операнда |
|-------------|-----------|------------|-------------------|
| 000         | WAIT      | Задержка   | Время (0-15 тактов) |
| 001         | OUT       | Управление моторами | Биты 0-1: левый/правый мотор (1-вперед) |
| 010         | JMP       | Безусловный переход | Адрес перехода (0-15) |
| 011         | JS        | Условный переход по звуку | Адрес перехода при SENSOR_SOUND=1 |
| 100         | JD        | Условный переход по расстоянию | Адрес перехода при SENSOR_DISTANCE=1 |

## Verilog код
Основной модуль процессора (PROCESSOR_CORE.v) описывает топ-уровневую структуру, включая:
- Декодирование команд
- Управление программным счетчиком
- Обработку условных переходов
- Управление моторами
- Реализацию задержек

Код написан на Verilog HDL и может быть симулирован с помощью Icarus Verilog или других симуляторов.

## Схема подключения
Основные соединения между микросхемами:
- 74HC161 (счетчик): выходы Q0-Q3 → адрес памяти, входы D0-D3 → адрес перехода
- 74HC138 (декодер): входы A0-A2 → код операции, выходы Y0-Y4 → сигналы команд
- 74HC74 (триггеры): D1-D2 → управление моторами, Q1-Q2 → выходы к моторам
- 74HC4060 (таймер): используется для генерации задержек
- 74HC04, 74HC08, 74HC32, 74HC86 → реализация логики переходов

## Ресурсы и ссылки
### Verilog учебные материалы
- ASIC-World: Полный учебник по Verilog (http://www.asic-world.com/verilog/)
- Nandland: Основы Verilog для начинающих (https://nandland.com/)
- GitHub: Примеры проектов на Verilog (https://github.com/topics/verilog)

### Даташиты микросхем 74HCxx
- Texas Instruments: https://www.ti.com/logic-voltage-translation/products.html
- Nexperia: https://www.nexperia.com/products/analog-logic-ics/logic/
- ON Semiconductor: https://www.onsemi.com/products/logic

### Инструменты для разработки
- Icarus Verilog (симулятор): http://iverilog.icarus.com/
- GTKWave (просмотр временных диаграмм): http://gtkwave.sourceforge.net/
- KiCad (проектирование схем): https://www.kicad.org/

## Инструкция по сборке (кратко)
1. **Проектирование схемы:** Используйте KiCad для создания принципиальной схемы на основе предоставленного кода.
2. **Изготовление платы:** Фрезерование или травление печатной платы.
3. **Пайка компонентов:** Последовательная пайка микросхем, пассивных элементов и разъемов.
4. **Сборка корпуса:** Лазерная резка фанеры, сборка механической части.
5. **Настройка памяти:** Установка светодиодов согласно программе.
6. **Тестирование:** Поэтапная проверка всех модулей процессора.

## Пример программы для робота
Адрес 0: OUT 3 (оба мотора вперед)
Адрес 1: WAIT 8 (задержка 8 тактов)
Адрес 2: JD 0 (если препятствие, вернуться к началу)
Адрес 3: JMP 1 (безусловный переход к адресу 1)

## Особенности реализации
- Память на диодах обеспечивает наглядность программирования
- Все сигналы доступны для измерения и отладки
- Низкая тактовая частота позволяет наблюдать работу в реальном времени
- Возможность расширения системы команд и памяти

Проект представляет образовательную ценность для изучения основ цифровой логики, архитектуры процессоров и систем автоматического управления.